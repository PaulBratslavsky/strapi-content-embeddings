/* MDXEditor CSS Variables - required for toolbar styling */
:root {
  --spacing-0_5: 0.125rem;
  --spacing-1: 0.25rem;
  --spacing-1_5: 0.375rem;
  --spacing-2: 0.5rem;
  --spacing-3: 0.75rem;
  --spacing-4: 1rem;
  --spacing-5: 1.25rem;
  --spacing-36: 9rem;
  --spacing-48: 12rem;
  --radius-none: 0;
  --radius-base: 0.25rem;
  --radius-medium: 0.375rem;
  --text-xs: 0.75rem;
  --text-sm: 0.875rem;
  --baseBg: #f6f6f9;
  --baseBgActive: #e8e8ec;
  --basePageBg: #ffffff;
  --baseBorder: #dcdce4;
  --baseBorderHover: #b9bbc6;
  --baseBase: #e0e1e6;
  --baseText: #60646c;
  --baseTextContrast: #1c2024;
  --accentText: #4945ff;
}

/* MDXEditor Toolbar Root - critical for horizontal layout */
[class*="_toolbarRoot"],
.mdxeditor-toolbar {
  z-index: 2;
  display: flex !important;
  flex-direction: row !important;
  flex-wrap: wrap !important;
  gap: var(--spacing-1);
  border-radius: var(--radius-medium);
  padding: var(--spacing-1_5);
  align-items: center !important;
  overflow-x: auto;
  position: sticky;
  top: 0;
  background-color: var(--baseBg) !important;
  border-bottom: 1px solid var(--baseBorder);
  width: 100%;
}

[class*="_toolbarRoot"] div[role='separator'],
.mdxeditor-toolbar div[role='separator'] {
  margin: var(--spacing-2) var(--spacing-1);
  border-left: 1px solid var(--baseBorder);
  border-right: 1px solid var(--baseBase);
  height: var(--spacing-4);
}

[class*="_toolbarRoot"] svg,
.mdxeditor-toolbar svg {
  color: var(--baseTextContrast);
  display: block;
}

/* Toolbar button groups */
[class*="_toolbarGroupOfGroups"] {
  display: flex;
  margin: 0 var(--spacing-1);
}

[class*="_toolbarToggleSingleGroup"] {
  display: flex;
  align-items: center;
  white-space: nowrap;
}

/* Toolbar buttons and toggle items */
[class*="_toolbarToggleItem"],
[class*="_toolbarButton"] {
  border: 0;
  background-color: transparent;
  font-size: inherit;
  appearance: none;
  box-sizing: border-box;
  cursor: default;
  padding: var(--spacing-0_5);
  border-radius: var(--radius-base);
}

[class*="_toolbarToggleItem"]:hover,
[class*="_toolbarButton"]:hover {
  background-color: var(--baseBgActive);
}

[class*="_toolbarToggleItem"][data-state='on'],
[class*="_toolbarButton"][data-state='on'],
[class*="_toolbarToggleItem"]:active,
[class*="_toolbarButton"]:active {
  color: var(--baseTextContrast);
  background-color: var(--baseBgActive);
}

[class*="_toolbarToggleItem"][data-disabled],
[class*="_toolbarButton"][data-disabled] {
  pointer-events: none;
}

[class*="_toolbarToggleItem"][data-disabled] svg,
[class*="_toolbarButton"][data-disabled] svg {
  color: var(--baseBorderHover);
}

/* Block type select dropdown */
[class*="_toolbarNodeKindSelectTrigger"],
[class*="_selectTrigger"] {
  border: 0;
  background-color: transparent;
  display: flex;
  color: inherit;
  align-items: center;
  width: var(--spacing-36);
  padding: var(--spacing-0_5) var(--spacing-1);
  padding-inline-start: var(--spacing-2);
  border-radius: var(--radius-medium);
  white-space: nowrap;
  flex-wrap: nowrap;
  font-size: var(--text-sm);
  background-color: var(--basePageBg);
  margin: 0 var(--spacing-1);
}

[class*="_toolbarNodeKindSelectTrigger"][data-state='open'],
[class*="_selectTrigger"][data-state='open'] {
  filter: drop-shadow(0 2px 2px rgb(0 0 0 / 0.2));
  border-bottom-right-radius: var(--radius-none);
  border-bottom-left-radius: var(--radius-none);
}

/* Dropdown containers */
[class*="_toolbarNodeKindSelectContainer"],
[class*="_toolbarButtonDropdownContainer"],
[class*="_selectContainer"] {
  filter: drop-shadow(0 2px 2px rgb(0 0 0 / 0.2));
  z-index: 3;
  width: var(--spacing-36);
  border-bottom-left-radius: var(--radius-base);
  border-bottom-right-radius: var(--radius-base);
  background-color: var(--basePageBg);
  font-size: var(--text-sm);
}

/* Select items in dropdowns */
[class*="_toolbarNodeKindSelectItem"],
[class*="_selectItem"] {
  cursor: default;
  display: flex;
  padding: var(--spacing-2);
}

[class*="_toolbarNodeKindSelectItem"][data-highlighted],
[class*="_selectItem"][data-highlighted] {
  background-color: var(--baseBg);
  outline: none;
}

[class*="_toolbarNodeKindSelectItem"][data-state='checked'],
[class*="_selectItem"][data-state='checked'] {
  color: var(--baseTextContrast);
  background-color: var(--baseBg);
}

[class*="_toolbarNodeKindSelectItem"]:last-child,
[class*="_selectItem"]:last-child {
  border-bottom-left-radius: var(--radius-base);
  border-bottom-right-radius: var(--radius-base);
}

/* Dropdown arrow */
[class*="_toolbarNodeKindSelectDropdownArrow"],
[class*="_selectDropdownArrow"] {
  margin-left: auto;
  display: flex;
  align-items: center;
}

/* Content editable area styling */
[class*="_contentEditable"],
.mdx-editor-content {
  box-sizing: border-box;
  width: 100%;
  color: var(--baseTextContrast);
  padding: var(--spacing-3);
  min-height: 200px;
  outline: none;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
    Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
  font-size: 14px;
  line-height: 1.6;
}

[class*="_contentEditable"]:focus,
.mdx-editor-content:focus {
  outline: none;
}

/* Heading styles */
.mdx-editor-content h1,
[class*="_contentEditable"] h1 {
  font-size: 1.75rem;
  font-weight: 600;
  margin: 0 0 1rem;
}

.mdx-editor-content h2,
[class*="_contentEditable"] h2 {
  font-size: 1.5rem;
  font-weight: 600;
  margin: 1rem 0 0.75rem;
}

.mdx-editor-content h3,
[class*="_contentEditable"] h3 {
  font-size: 1.25rem;
  font-weight: 600;
  margin: 1rem 0 0.5rem;
}

/* Paragraph and list styles */
.mdx-editor-content p,
[class*="_contentEditable"] p {
  margin: 0 0 1rem;
}

.mdx-editor-content ul,
.mdx-editor-content ol,
[class*="_contentEditable"] ul,
[class*="_contentEditable"] ol {
  margin: 0 0 1rem;
  padding-left: 1.5rem;
}

.mdx-editor-content li,
[class*="_contentEditable"] li {
  margin: 0.25rem 0;
}

/* Code styles */
.mdx-editor-content code,
[class*="_contentEditable"] code {
  background: #f0f0f5;
  padding: 0.2em 0.4em;
  border-radius: 3px;
  font-family: "Monaco", "Menlo", "Ubuntu Mono", monospace;
  font-size: 0.9em;
}

.mdx-editor-content pre,
[class*="_contentEditable"] pre {
  background: #2d2d2d;
  color: #f8f8f2;
  padding: 1rem;
  border-radius: 4px;
  overflow-x: auto;
  margin: 0 0 1rem;
}

.mdx-editor-content pre code,
[class*="_contentEditable"] pre code {
  background: none;
  padding: 0;
}

/* Blockquote styles */
.mdx-editor-content blockquote,
[class*="_contentEditable"] blockquote {
  border-left: 3px solid #dcdce4;
  margin: 0 0 1rem;
  padding-left: 1rem;
  color: #666;
}

/* Link styles */
.mdx-editor-content a,
[class*="_contentEditable"] a {
  color: #4945ff;
  text-decoration: underline;
}

/* Horizontal rule */
.mdx-editor-content hr,
[class*="_contentEditable"] hr {
  border: none;
  border-top: 1px solid #dcdce4;
  margin: 1.5rem 0;
}

/* MDXEditor root wrapper */
[class*="_editorRoot"] {
  --font-mono: "Monaco", "Menlo", "Ubuntu Mono", monospace;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
    Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
  color: var(--baseTextContrast);
  background: var(--basePageBg);
}

/* Link dialog */
[class*="_linkDialogPopoverContent"] {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-2);
  padding: var(--spacing-3);
  background-color: var(--basePageBg);
  border-radius: var(--radius-medium);
  box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  z-index: 10;
}

[class*="_linkDialogInputContainer"] {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-1);
}

[class*="_linkDialogInputWrapper"] {
  display: flex;
  gap: var(--spacing-1);
}

[class*="_linkDialogInputWrapper"] input {
  flex: 1;
  padding: var(--spacing-1) var(--spacing-2);
  border: 1px solid var(--baseBorder);
  border-radius: var(--radius-base);
  font-size: var(--text-sm);
}

[class*="_linkDialogInputWrapper"] button {
  padding: var(--spacing-1) var(--spacing-2);
  background-color: var(--accentText);
  color: white;
  border: none;
  border-radius: var(--radius-base);
  cursor: pointer;
  font-size: var(--text-sm);
}

[class*="_linkDialogInputWrapper"] button:hover {
  opacity: 0.9;
}

/* Popover positioning */
[data-radix-popper-content-wrapper] {
  z-index: 100 !important;
}
